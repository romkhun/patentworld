(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9553],{24879:function(e,t,n){Promise.resolve().then(n.bind(n,74124))},5481:function(e,t,n){"use strict";n.d(t,{T:function(){return s}});var o=n(2265),a=n(31057),i=n(43841),r=["axis"],s=(0,o.forwardRef)((e,t)=>o.createElement(i.R,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:r,tooltipPayloadSearcher:a.NL,categoricalChartProps:e,ref:t}))},74124:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var o=n(57437),a=n(2265),i=n(27648),r=n(25553),s=n(49739),l=n(52901),c=n(10949),d=n(29268),h=n(32238),p=n(18776),m=n(29951),u=n(57972),f=n(96063),g=n(95213),x=n(65349),y=n(15530),b=n(37395),v=n(66031),j=n(45531),w=n(66437),k=n(85437),S=n(24989),P=n(78705),N=n(86449),T=n(97254);function C(){let{data:e,loading:t}=(0,r.k)("chapter12/topic_definitions.json"),{data:n,loading:C}=(0,r.k)("chapter12/topic_prevalence.json"),{data:F,loading:A}=(0,r.k)("chapter12/topic_cpc_matrix.json"),{data:_,loading:M}=(0,r.k)("chapter12/topic_umap.json"),{data:z,loading:D}=(0,r.k)("chapter12/topic_novelty_trend.json"),{data:L}=(0,r.k)("chapter12/topic_novelty_top.json"),{prevalencePivot:Z,topicAreas:E}=(0,a.useMemo)(()=>n&&e?{prevalencePivot:[...new Set(n.map(e=>e.year))].sort().map(e=>{let t={year:e};return n.filter(t=>t.year===e).forEach(e=>{t["topic_".concat(e.topic)]=e.share}),t}),topicAreas:[...e].sort((e,t)=>t.patent_count-e.patent_count).map(e=>({key:"topic_".concat(e.id),name:e.name,color:S.OS[e.id%S.OS.length]}))}:{prevalencePivot:[],topicAreas:[]},[n,e]),[I,K]=(0,a.useState)("stacked"),{topicPanels:O,topicPanelColors:W}=(0,a.useMemo)(()=>{if(!n||!e)return{topicPanels:[],topicPanelColors:[]};let t=[...e].sort((e,t)=>t.patent_count-e.patent_count),o=t.slice(0,8),a=new Set(t.slice(8).map(e=>e.id)),i=[...new Set(n.map(e=>e.year))].sort(),r=o.map(e=>({name:e.name,data:i.map(t=>{var o;let a=n.find(n=>n.year===t&&n.topic===e.id);return{x:t,y:null!==(o=null==a?void 0:a.share)&&void 0!==o?o:0}})}));r.push({name:"Other (17 topics)",data:i.map(e=>{let t=n.filter(t=>t.year===e&&a.has(t.topic)).reduce((e,t)=>{var n;return e+(null!==(n=t.share)&&void 0!==n?n:0)},0);return{x:e,y:t}})});let s=o.map(e=>S.OS[e.id%S.OS.length]);return s.push("#9ca3af"),{topicPanels:r,topicPanelColors:s}},[n,e]),{cpcBarData:B,cpcBarTopics:U}=(0,a.useMemo)(()=>{if(!F||!e)return{cpcBarData:[],cpcBarTopics:[]};let t=[...e].sort((e,t)=>t.patent_count-e.patent_count).slice(0,8);return{cpcBarData:Object.keys(P.Ph).filter(e=>"Y"!==e).map(e=>{let n={section:"".concat(e,": ").concat(P.Ph[e])};return t.forEach(t=>{var o;let a=F.find(n=>n.section===e&&n.topic===t.id);n["topic_".concat(t.id)]=null!==(o=null==a?void 0:a.share)&&void 0!==o?o:0}),n}),cpcBarTopics:t.map(e=>({key:"topic_".concat(e.id),name:e.name,color:S.OS[e.id%S.OS.length]}))}},[F,e]),R=(0,a.useMemo)(()=>e?e.map(e=>e.name):[],[e]),G=(0,a.useMemo)(()=>{if(!_||!e||0===_.length)return[];let t=new Set([...e].sort((e,t)=>t.patent_count-e.patent_count).slice(0,8).map(e=>e.name)),n=_.map(e=>e.x),o=_.map(e=>e.y),a=Math.min(...n),i=Math.max(...n),r=Math.min(...o),s=Math.max(...o),l=new Map;return _.forEach(e=>{var n;if(!t.has(e.topic_name))return;let o=null!==(n=l.get(e.topic_name))&&void 0!==n?n:{sx:0,sy:0,n:0};o.sx+=e.x,o.sy+=e.y,o.n+=1,l.set(e.topic_name,o)}),Array.from(l.entries()).map(e=>{let[t,{sx:n,sy:o,n:l}]=e;return{name:t,cx:(n/l-a)/(i-a)*100,cy:(o/l-r)/(s-r)*100}})},[_,e]),H=e?e.reduce((e,t)=>e+t.patent_count,0):845e4;return(0,o.jsxs)("div",{children:[(0,o.jsx)(s.K,{number:5,title:"The Language of Innovation",subtitle:"Semantic analysis of 8.45 million patent abstracts"}),(0,o.jsx)(l.x,{slug:"system-language"}),(0,o.jsxs)(j.u,{children:[(0,o.jsxs)("li",{children:[(0,o.jsx)(k.h,{term:"topic modeling",children:"Topic modeling"})," of ",(0,T.Py)(H)," patent abstracts reveals 25 distinct technology themes spanning computing, chemistry, biotechnology, and engineering."]}),(0,o.jsx)("li",{children:"Computing and semiconductor-related topics have grown from 12% to 33% of all patents since 1976, mirroring the digital revolution."}),(0,o.jsx)("li",{children:"Patents that span multiple topics — measured by Shannon entropy — tend to be the most novel inventions, often sitting at the intersection of technologies."}),(0,o.jsxs)("li",{children:["The semantic landscape of patents, visualized via ",(0,o.jsx)(k.h,{term:"UMAP",children:"UMAP"}),", reveals clear clustering by technology area with growing overlap between computational and scientific domains."]})]}),(0,o.jsxs)("aside",{className:"my-8 rounded-lg border bg-muted/30 p-5",children:[(0,o.jsx)("h2",{className:"mb-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground",children:"Executive Summary"}),(0,o.jsxs)("p",{className:"text-sm leading-relaxed",children:["Beneath the formal CPC classification system examined in earlier chapters lies a complementary thematic structure recoverable only through the language of patent abstracts themselves. The application of unsupervised text analysis to five decades of filings reveals that US patenting has undergone a pronounced reorientation toward ",(0,o.jsx)(i.default,{href:"/chapters/system-patent-fields/",className:"underline decoration-muted-foreground/50 hover:decoration-foreground transition-colors",children:"digital and computational domains"})," -- a shift visible not only in patent counts but in the vocabulary inventors use to describe their work. Perhaps most notable is the overall rise in thematic diversity at the individual patent level: inventions that blend language from traditionally separate fields have become markedly more common, suggesting that the boundaries between technology domains documented in ",(0,o.jsx)(i.default,{href:"/chapters/system-patent-quality/",className:"underline decoration-muted-foreground/50 hover:decoration-foreground transition-colors",children:"Patent Quality"})," and ",(0,o.jsx)(i.default,{href:"/chapters/system-patent-fields/",className:"underline decoration-muted-foreground/50 hover:decoration-foreground transition-colors",children:"Patent Fields"})," are growing more permeable over time. The semantic geography of these patents, when projected into two dimensions, makes visible the clustering and overlap that aggregate statistics alone cannot convey."]})]}),(0,o.jsx)(c.n,{children:(0,o.jsxs)("p",{children:["8.45 million patent abstracts provide a rich corpus for examining the thematic structure of US patenting activity. By applying ",(0,o.jsx)(k.h,{term:"NMF",children:"NMF"})," topic modeling to every utility patent abstract filed with the USPTO since 1976, this analysis uncovers the latent themes of US patenting. Using ",(0,o.jsx)(k.h,{term:"TF-IDF",children:"TF-IDF"})," to convert raw text into numerical features, and non-negative matrix factorization to discover 25 latent topics, the results indicate which themes are rising, which are declining, and how they correspond to the formal technology classification system."]})}),(0,o.jsx)(y.d,{label:"Topic Trends Over Time"}),(0,o.jsx)(c.n,{children:(0,o.jsx)("p",{children:"The stacked area chart below illustrates how the share of each topic has evolved over time. Computing, semiconductor, and communications topics have expanded substantially, while traditional mechanical and chemical engineering topics have experienced a decline in relative share, though not necessarily in absolute volume."})}),(0,o.jsxs)("div",{className:"my-4 flex items-center gap-2 max-w-[960px] mx-auto",role:"group","aria-label":"Chart view toggle",children:[(0,o.jsx)("span",{className:"text-sm text-muted-foreground",children:"View:"}),(0,o.jsx)("button",{onClick:()=>K("stacked"),className:"rounded-full px-3 py-1 text-xs font-medium transition-colors ".concat("stacked"===I?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-accent"),children:"Stacked %"}),(0,o.jsx)("span",{className:"text-muted-foreground/30","aria-hidden":"true",children:"|"}),(0,o.jsx)("button",{onClick:()=>K("multiples"),className:"rounded-full px-3 py-1 text-xs font-medium transition-colors ".concat("multiples"===I?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-accent"),children:"Small Multiples"})]}),(0,o.jsx)(p.B,{id:"fig-language-innovation-topic-prevalence",subtitle:"Share of patents belonging to each of 25 NMF-derived topics by year, revealing the shift toward computing and digital technology themes.",title:"Computing and Semiconductor Topics Grew From 12% to 33% of All Patents Since 1976",caption:"Share of patents belonging to each of 25 NMF-derived topics, 1976–2025, sorted by total patent count. The most prominent trend is the expansion of computing, semiconductor, and communications topics, which grew from 12% to 33% of the total.",insight:"The language of innovation has shifted decisively toward computing and digital technology over 50 years. Topics related to software, semiconductors, and wireless communications now dominate patent abstracts.",loading:C||t,height:"multiples"===I?550:650,wide:!0,interactive:!0,statusText:"multiples"===I?"Showing top 8 topics + Other as small multiples":"Showing all 25 topics as stacked percentage",children:"stacked"===I?(0,o.jsx)(u.Z,{data:Z,xKey:"year",areas:E,stackedPercent:!0,yLabel:"Share (%)",referenceLines:(0,N.kM)(N.Ik,{only:[1995,2008]})}):(0,o.jsx)(x.f,{panels:O,xLabel:"Year",yLabel:"Share (%)",yFormatter:e=>"".concat(e.toFixed(0),"%"),columns:3,panelColors:W})}),e&&(0,o.jsxs)("div",{className:"my-12 overflow-x-auto",children:[(0,o.jsxs)("table",{className:"w-full text-sm border-collapse",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{className:"border-b border-border text-left text-muted-foreground",children:[(0,o.jsx)("th",{className:"py-2 pr-4 font-medium",children:"#"}),(0,o.jsx)("th",{className:"py-2 pr-4 font-medium",children:"Topic"}),(0,o.jsx)("th",{className:"py-2 pr-4 font-medium",children:"Top Words"}),(0,o.jsx)("th",{className:"py-2 text-right font-medium",children:"Patents"})]})}),(0,o.jsx)("tbody",{children:[...e].sort((e,t)=>t.patent_count-e.patent_count).map(e=>(0,o.jsxs)("tr",{className:"border-b border-border/50",children:[(0,o.jsx)("td",{className:"py-2 pr-4",children:(0,o.jsx)("span",{className:"inline-block h-3 w-3 rounded-full",style:{backgroundColor:S.OS[e.id%S.OS.length]}})}),(0,o.jsx)("td",{className:"py-2 pr-4 font-medium whitespace-nowrap",children:e.name}),(0,o.jsx)("td",{className:"py-2 pr-4 text-muted-foreground text-xs",children:e.top_words.slice(0,8).join(", ")}),(0,o.jsx)("td",{className:"py-2 text-right font-mono text-xs",children:(0,T.Py)(e.patent_count)})]},e.id))})]}),(0,o.jsxs)("figcaption",{className:"mt-3 text-xs text-muted-foreground",children:["25 topics discovered by NMF topic modeling on ",(0,T.Py)(H)," patent abstracts. Topics are automatically named from their top-weighted terms."]})]}),(0,o.jsx)(y.d,{label:"Topic Map"}),(0,o.jsx)(c.n,{children:(0,o.jsx)("p",{children:"To visualize the full semantic landscape of patents, a stratified sample of 5,000 patents is projected from high-dimensional TF-IDF space into two dimensions using UMAP. Each point represents a patent, colored by its dominant topic. Clusters indicate families of related inventions, and overlapping regions suggest technology convergence. Note that the axes of a UMAP projection are unitless — only the relative distances and clustering patterns are interpretable, not the absolute positions."})}),(0,o.jsx)(p.B,{id:"fig-language-innovation-umap",subtitle:"UMAP projection of 5,000 patent abstracts from TF-IDF space into 2D, colored by dominant topic, revealing semantic clustering and overlap.",title:"UMAP Projection of 5,000 Patents Reveals 25 Distinct Technology Clusters With Meaningful Spatial Relationships",caption:"5,000 patents projected into 2D via UMAP on TF-IDF vectors (200 per topic, stratified). Each point represents one patent, colored by dominant topic. UMAP axes are unitless projections — only the relative distances between points are meaningful, not the absolute positions. Source: PatentsView / USPTO.",insight:"The UMAP projection reveals clear topic clusters with meaningful spatial relationships: computing and electronics topics cluster together, while chemistry and biotechnology form a distinct neighborhood. Patents bridging clusters often represent the most novel cross-domain inventions.",loading:M||t,height:650,wide:!0,children:(0,o.jsxs)("div",{className:"relative w-full h-full",children:[(0,o.jsx)(g.p,{data:null!=_?_:[],xKey:"x",yKey:"y",colorKey:"topic_name",nameKey:"patent_id",categories:R,colors:S.OS,tooltipFields:[{key:"topic_name",label:"Topic"},{key:"year",label:"Year"},{key:"section",label:"CPC Section"},{key:"patent_id",label:"Patent"}],hideAxes:!0,hideGrid:!0}),G.map(e=>{let{name:t,cx:n,cy:a}=e;return(0,o.jsx)("div",{className:"absolute pointer-events-none text-[10px] font-medium text-muted-foreground/70 whitespace-nowrap",style:{left:"".concat(n,"%"),top:"".concat(a,"%"),transform:"translate(-50%, -50%)"},children:t},t)})]})}),(0,o.jsx)(b.c,{children:(0,o.jsx)("p",{children:"The semantic map indicates that the boundaries between technology domains are not sharp lines but rather diffuse gradients. Patents in the overlapping regions, where computing meets biology or where materials science meets electronics, often appear to represent the leading edge of interdisciplinary innovation."})}),(0,o.jsx)(y.d,{label:"Topics Across Technology Sections"}),(0,o.jsx)(c.n,{children:(0,o.jsx)("p",{children:"The relationship between discovered topics and the formal CPC classification system warrants examination. The chart below cross-tabulates the eight most prevalent topics against CPC sections. Some topics align closely with a single CPC section (for example, chemistry-related topics correspond to Section C), while others, particularly computing, span multiple sections."})}),(0,o.jsx)(p.B,{id:"fig-language-innovation-topic-cpc",subtitle:"Share of patents in each CPC section belonging to the top 8 NMF topics, cross-tabulating text-derived themes with formal classification.",title:"Computing-Related Topics Appear Across All 8 CPC Sections, Confirming Their General-Purpose Nature",caption:"Share (%) of patents in each CPC section belonging to each of the top 8 topics, ordered A through H. The most notable pattern is that computing and data-processing topics appear across nearly all sections, suggesting that digital technology has become a general-purpose innovation platform.",insight:"Topics related to computing and data processing appear across nearly all CPC sections, consistent with the characterization of digital technology as a general-purpose innovation platform that pervades virtually every industry.",loading:A||t,height:500,children:(0,o.jsx)(f.o,{data:B,xKey:"section",bars:U,stacked:!0,yFormatter:e=>"".concat(e.toFixed(0),"%"),yLabel:"Share (%)"})}),(0,o.jsx)(y.d,{label:"Novelty"}),(0,o.jsx)(c.n,{children:(0,o.jsx)("p",{children:"The degree to which contemporary patents differ from those of earlier decades constitutes an important empirical question. This analysis measures novelty as the Shannon entropy of each patent's topic distribution: patents that draw approximately equally from many topics (high entropy) are more thematically diverse, and may be considered more novel, than patents concentrated in a single topic (low entropy)."})}),(0,o.jsx)(p.B,{id:"fig-language-innovation-novelty",subtitle:"Median and average Shannon entropy of patent topic distributions by year, measuring thematic diversity as a proxy for novelty.",title:"Patent Novelty Rose 6.6% From 1976 to 2025 (Median Entropy 1.97 to 2.10), With an Upward Trend Since the Late 1980s Despite a Dip From 2004 to 2014",caption:"Median and average Shannon entropy of patent topic distributions by year; higher entropy indicates more thematically diverse patents. The upward trend since the late 1980s suggests that modern inventions increasingly combine ideas from multiple technology domains, though a dip between 2004 and 2014 preceded acceleration in the late 2010s.",insight:"Patent novelty has trended upward since the late 1980s, though with a notable dip between 2004 and 2014, suggesting that modern inventions increasingly combine ideas from multiple technology domains. This trend accelerated in the late 2010s, coinciding with the rise of AI and other general-purpose technologies.",loading:D,children:(0,o.jsx)(m.J,{data:null!=z?z:[],xKey:"year",lines:[{key:"median_entropy",name:"Median Entropy",color:S.ZE[0]},{key:"avg_entropy",name:"Average Entropy",color:S.ZE[2],dashPattern:"8 4"}],yLabel:"Shannon Entropy (bits)",yFormatter:e=>e.toFixed(2),referenceLines:(0,N.kM)(N.Ik,{only:[1995,2008,2014]})})}),(0,o.jsx)(b.c,{children:(0,o.jsxs)("p",{children:["Rising entropy suggests that the boundaries between technology domains are becoming more porous. The most novel patents, those scoring highest on entropy, tend to be situated at the intersection of multiple topics, combining language from computing -- including the ",(0,o.jsx)(i.default,{href:"/chapters/ai-patents/",className:"underline decoration-muted-foreground/50 hover:decoration-foreground transition-colors",children:"artificial intelligence"})," vocabulary that has become increasingly prevalent -- biology, chemistry, and engineering in ways that were uncommon only a few decades ago."]})}),L&&(0,o.jsxs)("div",{className:"my-12 overflow-x-auto",children:[(0,o.jsx)("h3",{className:"mb-4 font-sans text-base font-semibold tracking-tight text-muted-foreground",children:"Top 50 Most Novel Patents (Highest Entropy)"}),(0,o.jsxs)("table",{className:"w-full text-sm border-collapse",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{className:"border-b border-border text-left text-muted-foreground",children:[(0,o.jsx)("th",{className:"py-2 pr-4 font-medium",children:"#"}),(0,o.jsx)("th",{className:"py-2 pr-4 font-medium",children:"Patent ID"}),(0,o.jsx)("th",{className:"py-2 pr-4 font-medium",children:"Year"}),(0,o.jsx)("th",{className:"py-2 pr-4 font-medium",children:"CPC"}),(0,o.jsx)("th",{className:"py-2 pr-4 font-medium",children:"Topic"}),(0,o.jsx)("th",{className:"py-2 text-right font-medium",children:"Entropy"})]})}),(0,o.jsx)("tbody",{children:L.map((e,t)=>(0,o.jsxs)("tr",{className:"border-b border-border/50",children:[(0,o.jsx)("td",{className:"py-1.5 pr-4 text-muted-foreground",children:t+1}),(0,o.jsx)("td",{className:"py-1.5 pr-4 font-mono text-xs",children:e.patent_id}),(0,o.jsx)("td",{className:"py-1.5 pr-4",children:e.year}),(0,o.jsx)("td",{className:"py-1.5 pr-4",children:e.section}),(0,o.jsx)("td",{className:"py-1.5 pr-4 text-xs",children:e.topic_name}),(0,o.jsx)("td",{className:"py-1.5 text-right font-mono text-xs",children:e.entropy.toFixed(3)})]},e.patent_id))})]}),(0,o.jsx)("figcaption",{className:"mt-3 text-xs text-muted-foreground",children:"Patents with the highest Shannon entropy across 25 topic dimensions — indicating they draw language from the widest range of technology themes."})]}),(0,o.jsxs)(c.n,{children:["Having uncovered the latent thematic structure of patent language, the analysis turns next to the ",(0,o.jsx)(i.default,{href:"/chapters/system-patent-law/",className:"underline decoration-muted-foreground/50 hover:decoration-foreground transition-colors",children:"legal and policy framework"})," governing the patent system. The topics and trends identified in this chapter provide essential context for understanding how legislative and judicial decisions have shaped the direction and character of US patenting activity."]}),(0,o.jsx)(b.c,{children:(0,o.jsxs)("p",{children:["The semantic analysis in this chapter and the CPC-based convergence analysis in ",(0,o.jsx)(i.default,{href:"/chapters/system-convergence/",className:"underline decoration-muted-foreground/50 hover:decoration-foreground transition-colors",children:"Chapter 4"})," measure interdisciplinarity through complementary lenses. CPC classifications capture formal taxonomy overlap, while topic modeling recovers latent thematic structure from the language inventors use. Both approaches confirm the same directional trend: technology domains are converging. The topic-based analysis adds nuance by revealing ",(0,o.jsx)("em",{children:"which"})," specific themes are driving convergence and how the vocabulary of innovation itself has shifted toward computational and cross-domain language."]})}),(0,o.jsx)(h.n,{learned:["Topic modeling of 8.45 million abstracts reveals 25 distinct technology themes, with computing topics growing from 12% to 33% of all patents.","Patents spanning multiple topics tend to be the most novel inventions, as measured by Shannon entropy of topic distributions."],falsifiable:"If cross-topic patents are genuinely more novel rather than just broader in scope, they should accumulate more forward citations even after controlling for the number of CPC sections spanned.",nextAnalysis:{label:"Patent Law & Policy",description:"How legislation and Supreme Court decisions have shaped the patent landscape",href:"/chapters/system-patent-law"}}),(0,o.jsx)(d.V,{children:(0,o.jsxs)("p",{children:["This analysis uses ",(0,o.jsx)(k.h,{term:"TF-IDF",children:"TF-IDF"})," vectorization (10,000 features, unigrams + bigrams) and ",(0,o.jsx)(k.h,{term:"NMF",children:"NMF"})," with K=25 components on ",(0,T.Py)(H)," patent abstracts from 1976–2025. The number of topics (K=25) was selected to balance interpretability and coherence of the resulting topic clusters; lower values (e.g., K=10) merged distinct technology themes, while higher values (e.g., K=50) produced overly granular topics that were difficult to interpret meaningfully. No formal model selection criterion such as perplexity was used. The ",(0,o.jsx)(k.h,{term:"UMAP",children:"UMAP"})," projection uses a stratified sample of 5,000 patents (200 per topic) with cosine distance. Novelty is measured as Shannon entropy of the NMF topic weight vector. Topic names are auto-generated from the top-weighted terms and may not perfectly capture all nuances of each topic cluster. Source: PatentsView / USPTO."]})}),(0,o.jsx)(w.M,{currentChapter:5}),(0,o.jsx)(v.W,{currentChapter:5})]})}},57972:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var o=n(57437),a=n(2265),i=n(91436),r=n(5481),s=n(56940),l=n(97059),c=n(35794),d=n(62994),h=n(78155),p=n(53250),m=n(84962),u=n(88822),f=n(24989),g=n(97254),x=n(50659);function y(e){let{data:t,xKey:n,areas:y,stacked:b=!1,stackedPercent:v=!1,xLabel:j,yLabel:w,yFormatter:k,yDomain:S,referenceLines:P}=e,N=b||v,T=(0,a.useMemo)(()=>{if(N)return[...y].reverse().map((e,t)=>{var n;let o=y.length-1-t;return{value:e.name,type:"circle",id:e.key,color:null!==(n=e.color)&&void 0!==n?n:f.ZE[o%f.ZE.length]}})},[y,N]),C=(0,a.useMemo)(()=>v?t.map(e=>{let t=y.reduce((t,n)=>t+(Number(e[n.key])||0),0);if(0===t)return e;let o={[n]:e[n]};return y.forEach(n=>{o[n.key]=(Number(e[n.key])||0)/t*100}),o}):t,[t,n,y,v]);return(0,o.jsx)(i.h,{width:"100%",height:"100%",children:(0,o.jsxs)(r.T,{data:C,margin:{top:5,right:10,left:10,bottom:5},children:[(0,o.jsx)("defs",{children:y.map((e,t)=>{var n;let a=null!==(n=e.color)&&void 0!==n?n:f.ZE[t%f.ZE.length],i=e.key.replace(/[^a-zA-Z0-9]/g,"_");return(0,o.jsxs)("linearGradient",{id:"gradient-".concat(i),x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,o.jsx)("stop",{offset:"0%",stopColor:a,stopOpacity:.5}),(0,o.jsx)("stop",{offset:"100%",stopColor:a,stopOpacity:.05})]},e.key)})}),(0,o.jsx)(s.q,{strokeDasharray:"3 3",stroke:"hsl(var(--border))",opacity:.2,vertical:!1}),(0,o.jsx)(l.K,{dataKey:n,tick:{fontSize:x.ZP.fontSize.tickLabel,fill:"hsl(var(--muted-foreground))",fontFamily:x.ZP.fontFamily},tickLine:!1,axisLine:{stroke:"hsl(var(--border))"},children:j&&(0,o.jsx)(c.__,{value:j,position:"insideBottom",offset:-2,style:{fill:"hsl(var(--muted-foreground))",fontSize:x.ZP.fontSize.axisLabel,fontWeight:x.ZP.fontWeight.axisLabel,fontFamily:x.ZP.fontFamily}})}),(0,o.jsx)(d.B,{tick:{fontSize:x.ZP.fontSize.tickLabel,fill:"hsl(var(--muted-foreground))",fontFamily:x.ZP.fontFamily},tickLine:!1,axisLine:!1,tickFormatter:v?e=>"".concat(Number(e).toFixed(0),"%"):null!=k?k:g.Py,width:60,domain:v?[0,100]:null!=S?S:void 0,allowDataOverflow:!!v||!!S||void 0,ticks:v?[0,20,40,60,80,100]:void 0,children:w&&(0,o.jsx)(c.__,{value:w,angle:-90,position:"insideLeft",style:{fill:"hsl(var(--muted-foreground))",fontSize:x.ZP.fontSize.axisLabel,fontWeight:x.ZP.fontWeight.axisLabel,fontFamily:x.ZP.fontFamily},offset:-5})}),(0,o.jsx)(h.u,{contentStyle:f.sz,formatter:(e,t)=>[v?"".concat(Number(e).toFixed(1),"%"):k?k(Number(e)):(0,g.Py)(Number(e)),t]}),(0,o.jsx)(p.D,{wrapperStyle:{paddingTop:8,fontSize:x.ZP.fontSize.legend,fontFamily:x.ZP.fontFamily},iconType:"circle",iconSize:8,...T?{payload:T}:{}}),null==P?void 0:P.map(e=>{var t,n;return(0,o.jsx)(m.db,{x:e.x,stroke:null!==(t=e.color)&&void 0!==t?t:"#9ca3af",strokeDasharray:"4 4",label:{value:e.label,position:"top",fontSize:x.ZP.fontSize.tickLabel,fill:null!==(n=e.color)&&void 0!==n?n:"#9ca3af"}},e.x)}),y.map((e,t)=>{var n;return(0,o.jsx)(u.uN,{type:"monotone",dataKey:e.key,name:e.name,stackId:b||v?"stack":void 0,fill:"url(#gradient-".concat(e.key.replace(/[^a-zA-Z0-9]/g,"_"),")"),stroke:null!==(n=e.color)&&void 0!==n?n:f.ZE[t%f.ZE.length],fillOpacity:1,isAnimationActive:!1},e.key)})]})})}},95213:function(e,t,n){"use strict";n.d(t,{p:function(){return y}});var o=n(57437),a=n(2265),i=n(91436),r=n(13446),s=n(56940),l=n(97059),c=n(62994),d=n(75742),h=n(84962),p=n(78155),m=n(53250),u=n(38793),f=n(24989),g=n(97254),x=n(50659);function y(e){let{data:t,xKey:n,yKey:y,colorKey:b,nameKey:v,categories:j,categoryLabels:w,colors:k,tooltipFields:S,xLabel:P,yLabel:N,xFormatter:T,yFormatter:C,showMeanLines:F=!1,hideAxes:A=!1,hideGrid:_=!1}=e,M=null!=T?T:g.Py,z=null!=C?C:g.Py,D=null!=k?k:f.ZE,L=j.map((e,n)=>{var o;return{name:null!==(o=null==w?void 0:w[e])&&void 0!==o?o:e,data:t.filter(t=>String(t[b])===e),color:D[n%D.length]}}),Z=(0,a.useMemo)(()=>{if(!F||0===t.length)return null;let e=t.map(e=>Number(e[n])||0),o=t.map(e=>Number(e[y])||0);return{x:e.reduce((e,t)=>e+t,0)/e.length,y:o.reduce((e,t)=>e+t,0)/o.length}},[F,t,n,y]);return(0,o.jsx)(i.h,{width:"100%",height:"100%",children:(0,o.jsxs)(r.G,{margin:{top:10,right:10,left:10,bottom:10},children:[!_&&(0,o.jsx)(s.q,{strokeDasharray:"3 3",stroke:"hsl(var(--border))",opacity:.2}),(0,o.jsx)(l.K,{dataKey:n,type:"number",tick:!A&&{fontSize:x.ZP.fontSize.tickLabel,fill:"hsl(var(--muted-foreground))"},tickFormatter:e=>M(e),tickLine:!1,axisLine:!A&&{stroke:"hsl(var(--border))"},name:null!=P?P:n,label:!A&&P?{value:P,position:"insideBottom",offset:-5,fontSize:x.ZP.fontSize.axisLabel,fontWeight:x.ZP.fontWeight.axisLabel,fill:"hsl(var(--muted-foreground))"}:void 0,domain:["auto","auto"],hide:A}),(0,o.jsx)(c.B,{dataKey:y,type:"number",tick:!A&&{fontSize:x.ZP.fontSize.tickLabel,fill:"hsl(var(--muted-foreground))"},tickFormatter:e=>z(e),tickLine:!1,axisLine:!1,width:A?0:60,name:null!=N?N:y,label:!A&&N?{value:N,angle:-90,position:"insideLeft",offset:10,fontSize:x.ZP.fontSize.axisLabel,fontWeight:x.ZP.fontWeight.axisLabel,fill:"hsl(var(--muted-foreground))"}:void 0,domain:["auto","auto"],hide:A}),(0,o.jsx)(d.d,{range:[20,20]}),Z&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(h.db,{x:Z.x,stroke:"#9ca3af",strokeDasharray:"4 4",strokeWidth:1}),(0,o.jsx)(h.db,{y:Z.y,stroke:"#9ca3af",strokeDasharray:"4 4",strokeWidth:1})]}),(0,o.jsx)(p.u,{contentStyle:f.sz,content:e=>{var t;let{active:a,payload:i}=e;if(!a||!(null==i?void 0:i.length))return null;let r=null===(t=i[0])||void 0===t?void 0:t.payload;return r?(0,o.jsxs)("div",{style:f.sz,children:[v&&r[v]&&(0,o.jsx)("div",{className:"font-semibold text-sm mb-1",children:r[v]}),null==S?void 0:S.map(e=>{let{key:t,label:n}=e;return(0,o.jsxs)("div",{className:"text-xs text-muted-foreground",children:[n,": ","number"==typeof r[t]?r[t].toLocaleString("en-US"):r[t]]},t)}),!S&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"text-xs text-muted-foreground",children:[b,": ",r[b]]}),(0,o.jsxs)("div",{className:"text-xs text-muted-foreground",children:[null!=P?P:n,": ","number"==typeof r[n]?M(r[n]):r[n]]}),(0,o.jsxs)("div",{className:"text-xs text-muted-foreground",children:[null!=N?N:y,": ","number"==typeof r[y]?z(r[y]):r[y]]})]})]}):null}}),(0,o.jsx)(m.D,{wrapperStyle:{paddingTop:8,fontSize:x.ZP.fontSize.legend},iconType:"circle",iconSize:8}),L.map((e,n)=>{let a=["circle","square","triangle","diamond"];return(0,o.jsx)(u.bp,{name:e.name,data:e.data,fill:e.color,fillOpacity:t.length>200?.4:.7,shape:a[n%a.length],isAnimationActive:!1},e.name)})]})})}},65349:function(e,t,n){"use strict";n.d(t,{f:function(){return f}});var o=n(57437),a=n(91436),i=n(21156),r=n(56940),s=n(97059),l=n(62994),c=n(78155),d=n(84962),h=n(52797),p=n(24989),m=n(97254),u=n(50659);function f(e){let{panels:t,xLabel:n,yLabel:f,yFormatter:g,referenceLine:x,referenceLabel:y,columns:b=4,color:v=p.ZE[0],yDomain:j,panelColors:w}=e,k=null!=g?g:m.Py;return(0,o.jsxs)("div",{className:"grid gap-3 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",style:b>4?{gridTemplateColumns:"repeat(".concat(b,", minmax(0, 1fr))")}:void 0,children:[t.map((e,t)=>{var m,g;return(0,o.jsxs)("div",{className:"rounded-lg border bg-card/50 p-3",children:[(0,o.jsx)("div",{className:"mb-2 text-xs font-medium truncate",title:e.name,children:e.name}),(0,o.jsx)("div",{className:"h-[120px]",children:(0,o.jsx)(a.h,{width:"100%",height:"100%",children:(0,o.jsxs)(i.w,{data:e.data,margin:{top:2,right:4,left:0,bottom:2},children:[(0,o.jsx)(r.q,{strokeDasharray:"3 3",stroke:"hsl(var(--border))",opacity:.2,vertical:!1}),(0,o.jsx)(s.K,{dataKey:"x",tick:{fontSize:u.ZP.fontSize.smallMultiplesTick,fill:"hsl(var(--muted-foreground))"},tickLine:!1,axisLine:!1,tickCount:3}),(0,o.jsx)(l.B,{tick:{fontSize:u.ZP.fontSize.smallMultiplesTick,fill:"hsl(var(--muted-foreground))"},tickLine:!1,axisLine:!1,tickFormatter:k,width:32,tickCount:3,domain:j}),(0,o.jsx)(c.u,{contentStyle:{...p.sz,fontSize:"12px",padding:"6px 10px"},formatter:e=>[k(Number(e)),null!=f?f:"Value"],labelFormatter:e=>"".concat(null!=n?n:"Year",": ").concat(e)}),void 0!==x&&(0,o.jsx)(d.db,{y:x,stroke:"#9ca3af",strokeDasharray:"4 4",strokeWidth:1}),(null===(m=e.data[0])||void 0===m?void 0:m.ref)!==void 0&&(0,o.jsx)(h.x1,{type:"monotone",dataKey:"ref",stroke:"#9ca3af",strokeDasharray:"4 4",strokeWidth:1,dot:!1,legendType:"none",isAnimationActive:!1}),(0,o.jsx)(h.x1,{type:"monotone",dataKey:"y",stroke:null!==(g=null==w?void 0:w[t])&&void 0!==g?g:v,strokeWidth:2,dot:!1,activeDot:{r:3},isAnimationActive:!1})]})})})]},e.name)}),y&&(0,o.jsxs)("div",{className:"col-span-full text-xs text-muted-foreground mt-1",children:["Dashed gray line: ",y]})]})}},86449:function(e,t,n){"use strict";n.d(t,{BF:function(){return r},Cm:function(){return h},D5:function(){return p},Ik:function(){return o},K4:function(){return u},Kc:function(){return m},Ns:function(){return c},QW:function(){return s},VT:function(){return l},W6:function(){return d},kM:function(){return f},ry:function(){return a},xz:function(){return i}});let o=[{x:1980,label:"Bayh-Dole Act",color:"#6366f1"},{x:1982,label:"Federal Circuit",color:"#6366f1"},{x:1995,label:"TRIPS Agreement",color:"#8b5cf6"},{x:1998,label:"State Street Bank",color:"#f59e0b"},{x:2e3,label:"AIPA",color:"#6366f1"},{x:2001,label:"Dot-com bust",color:"#ef4444"},{x:2007,label:"KSR v. Teleflex",color:"#f59e0b"},{x:2008,label:"Financial crisis",color:"#ef4444"},{x:2011,label:"America Invents Act",color:"#6366f1"},{x:2013,label:"AIA First-Inventor-to-File",color:"#6366f1"},{x:2014,label:"Alice Corp. decision",color:"#f59e0b"},{x:2017,label:"TC Heartland",color:"#f59e0b"},{x:2020,label:"COVID-19",color:"#ef4444"}],a=[{x:1997,label:"Kyoto Protocol",color:"#22c55e"},{x:2015,label:"Paris Agreement",color:"#22c55e"},{x:2022,label:"Inflation Reduction Act",color:"#6366f1"}],i=[{x:2e3,label:"Dot-com bust",color:"#ef4444"},{x:2011,label:"America Invents Act",color:"#6366f1"},{x:2022,label:"CHIPS Act",color:"#6366f1"}],r=[{x:2019,label:"Quantum supremacy",color:"#8b5cf6"},{x:2023,label:"Quantum error correction",color:"#8b5cf6"}],s=[{x:2013,label:"Snowden leaks",color:"#ef4444"},{x:2017,label:"WannaCry / GDPR",color:"#ef4444"},{x:2020,label:"SolarWinds hack",color:"#ef4444"}],l=[{x:1980,label:"Bayh-Dole Act",color:"#6366f1"},{x:2003,label:"Human Genome complete",color:"#8b5cf6"},{x:2012,label:"CRISPR published",color:"#22c55e"},{x:2020,label:"mRNA vaccines",color:"#22c55e"}],c=[{x:2009,label:"HITECH Act",color:"#6366f1"},{x:2020,label:"COVID-19 / telemedicine",color:"#ef4444"}],d=[{x:1996,label:"GM crops adopted",color:"#22c55e"},{x:2012,label:"Precision ag boom",color:"#22c55e"}],h=[{x:2009,label:"Google self-driving start",color:"#8b5cf6"},{x:2016,label:"Tesla Autopilot crash",color:"#ef4444"},{x:2020,label:"Waymo public launch",color:"#22c55e"}],p=[{x:2002,label:"SpaceX founded",color:"#8b5cf6"},{x:2015,label:"Falcon 9 landing",color:"#22c55e"},{x:2020,label:"Crew Dragon launch",color:"#22c55e"}],m=[{x:2009,label:"FDM patent expires",color:"#8b5cf6"},{x:2014,label:"Desktop 3D printing boom",color:"#22c55e"}],u=[{x:2008,label:"Bitcoin whitepaper",color:"#8b5cf6"},{x:2015,label:"Ethereum launch",color:"#8b5cf6"},{x:2021,label:"Crypto / NFT peak",color:"#ef4444"}];function f(e,t){let n=e;if(null==t?void 0:t.only){let e=new Set(t.only);n=n.filter(t=>e.has(t.x))}return(null==t?void 0:t.minX)!=null&&(n=n.filter(e=>e.x>=t.minX)),(null==t?void 0:t.maxX)!=null&&(n=n.filter(e=>e.x<=t.maxX)),n}}},function(e){e.O(0,[2972,917,553,1530,5736,894,1139,6498,3796,769,2971,2117,1744],function(){return e(e.s=24879)}),_N_E=e.O()}]);